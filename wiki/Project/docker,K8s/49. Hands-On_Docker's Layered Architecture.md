---
ë‚ ì§œ: 2025-04-07
Objective: Doker ì˜ Layered Architectureì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì
Script: "[[Sript_49]]"
tags:
  - ğŸ²Project/ê°œë°œí™œë™/ê°œì¸ì„œë²„êµ¬ì¶•/Dockerê°•ì˜
---
OverVIew 

 - Docker file ì˜ í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë§ˆë‹¤ ê°œë³„ì ì¸ ì´ë¯¸ì§€ê°€ ë§Œë“¤ì–´ì§€ê³  ì¸µì¸µì´ ë®ì—¬ì ¸ì„œ ìµœì¢… ì´ë¯¸ì§€ë¥¼ ë§Œë“ ë‹¤.
 - ê°ê°ë§ˆë‹¤ ë…ë¦½ì ì¸ ì´ë¯¸ì§€ë€ ë§ì€, ì¼€ì‹±ë„ ê°€ëŠ¥í•˜ê³  ì¬ì‚¬ìš©ì„±ë„ ì¢‹ë‹¤ëŠ” ì˜ë¯¸ë‹¤.

Details 
# ì´ë¯¸ì§€ íˆìŠ¤í† ë¦¬ ë¥¼ í†µí•œ Docker's Layered Architecture

```bash
jaebukbuk@jaebukbukubuntu24:~/containerize-express-app$ docker history express-app
IMAGE          CREATED         CREATED BY                                      SIZE     
75ad6404292d   6 days ago      CMD ["node" "index.js"]                         0B       
<missing>      6 days ago      EXPOSE map[3000/tcp:{}]                         0B       
<missing>      6 days ago      COPY src/index.js index.js # buildkit           784B     
<missing>      6 days ago      RUN /bin/sh -c npm ci # buildkit                5.03MB   
<missing>      6 days ago      COPY package*.json . # buildkit                 27.4kB   
<missing>      6 days ago      WORKDIR /app                                    0B       
<missing>      7 weeks ago     CMD ["node"]                                    0B       
...
<missing>      7 weeks ago     ENTRYPOINT ["docker-entrypoint.sh"]             0B       
<missing>      7 weeks ago     COPY docker-entrypoint.sh /usr/local/bin/ # â€¦   388B     
<missing>      7 weeks ago     RUN /bin/sh -c set -ex   && export GNUPGHOMEâ€¦   5.34MB   
<missing>      7 weeks ago     ENV YARN_VERSION=1.22.22                        0B       
<missing>      7 weeks ago     RUN /bin/sh -c ARCH= && dpkgArch="$(dpkg --pâ€¦   185MB    
<missing>      7 weeks ago     ENV NODE_VERSION=22.14.0                        0B       
<missing>      7 weeks ago     RUN /bin/sh -c groupadd --gid 1000 node   &&â€¦   8.94kB   
<missing>      15 months ago   RUN /bin/sh -c set -ex;  apt-get update;  apâ€¦   588MB   
<missing>      15 months ago   RUN /bin/sh -c set -eux;  apt-get update;  aâ€¦   177MB   
<missing>      23 months ago   RUN /bin/sh -c set -eux;  apt-get update;  aâ€¦   48.4MB  
<missing>      23 months ago   # debian.sh --arch 'amd64' out/ 'bookworm' 'â€¦   117MB   
jaebukbuk@jaebukbukubuntu24:~/containerize-express-app$ 
```

- Docker image íˆìŠ¤í† ë¦¬ë¥¼ ë³´ë©´ ìš°ë¦¬ê°€ ì…ë ¥í•œ ê° ëª…ë ¹ì–´ë“¤ ë§ˆë‹¤ ê°œë³„ì ì¸ ì¤‘ê°„ ì´ë¯¸ì§€ë¥¼ ë§Œë“¤ê³ , ìµœì¢…ì ìœ¼ë¡œ í•©ì³ì„œ ìµœì¢… ì´ë¯¸ì§€ë¥¼ ë§Œë“ ë‹¤.
- ì´ë¥¼ Docker ì˜ Layered Architecture ë¼ê³ í•œë‹¤.
- ìš°ë¦¬ì˜ ê¸°ë³¸ì´ë¯¸ì§€ì¸  From Node:24 ë§ˆì € 
  ê¸°ë³¸ì´ë¯¸ì§€ì™€ ëª…ë ¹ì–´ë“¤ë¡œ ì´ë£¨ì–´ì§„ê²ƒì„ ì•Œìˆ˜ ìˆë‹¤. ì´ë¥¼, **chaining of base images.** ì¼ì¢…ì˜ "ê¸°ë³¸ ì´ë¯¸ì§€ ì—°ê²°(chain)"ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.
- ì´ëŸ¬í•œ ì¤‘ê°„ ì´ë¯¸ì§€ë“¤ì€ ì¼€ì‹±ë˜ì–´ ì´ìš©ë˜ì–´ ì§„ë‹¤.

- ë” ë‚˜ì•„ê°€ì„œ : ì´ëŸ° ì¤‘ê°„ ì´ë¯¸ì§€ë“¤ì„ ì´ìš©í•˜ì—¬ ë¬´ì–¸ê°€ë¥¼ í• ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ? ( ì´ë¯¸ì§€ ìµœì í™”ë¼ë“ ì§€? )
