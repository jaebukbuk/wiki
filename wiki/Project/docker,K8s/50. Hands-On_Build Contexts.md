---
ë‚ ì§œ: 2025-04-08
Objective: Doker ì˜ Build ì˜ Contexts ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ì
Script: "[[Sript_50]]"
tags:
  - ğŸ²Project/ê°œë°œí™œë™/ê°œì¸ì„œë²„êµ¬ì¶•/Dockerê°•ì˜
---
OverVIew 

- A build context means basically a build context refers to all the files and subdirectories and all the content that is required by our Docker file in order to build the image.
- 
- ì»¨í…ìŠ¤íŠ¸ë€ - **It's basically all the files in the current directory that are then used in our image during the build command and considering our Docker file**

Details 

#  Docker CLI -> Docker Host - Docker Daemon

- Docker CLI -> ì‹¤ì œ Docker ì¼ì„ í•˜ëŠ” Docker Daemon ê³¼ í†µì‹ ì„ ë‹´ë‹¹í•˜ëŠ” API 
- Docker Host -> Docker Daemon ì´ ìˆëŠ” ê³³,  Docker Daemon ì´ë¼ê³  ìƒê°í•´ë„ë¨
- Docker Daemon -> ì‹¤ì œ Docker ì¼ì„ í•˜ëŠ” ë…€ì„

==> Docker Host ì™€ Docker Cli, Context ëŠ” ë‹¤ë¥¸ ê³µê°„ì´ë¯€ë¡œ Docker hostë¡œ ëª¨ë“  ì§€ì •ëœ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì—…ë¡œë“œí•˜ëŠ” ê³¼ì •ì´ í•„ìš”í•˜ë‹¤.

# Docker build -t aa . ì—ì„œ ì‚´í´ë³¸ context
```bash
jaebukbuk@jaebukbukubuntu24:~/build-context$ docker build -t hello-from-node .
=> [internal] load build definition from Dockerfile  
=> => transferring dockerfile: 99B  
=> [internal] load metadata for docker.io/library/node:22                      => [auth] library/node:pull token for registry-1.docker.io                     => [internal] load .dockerignore                                               => => transferring context: 2B   
...
=> [internal] load build context                                               => => transferring context: 164B  
```

- ìì„¸íˆ ì‚´í´ë³´ë©´ transferring context ë€ ëª…ë ¹ì´ ë³´ì¸ë‹¤. 
- í•´ë‹¹ ë„ì»¤ íŒŒì¼ì˜ context ì† íŒŒì¼ì´ ì—†ì–´ì„œ 2Bë°–ì— ì•ˆëœë‹¤.

```bash
jaebukbuk@jaebukbukubuntu24:~/build-context$ ll
total 88
drwxrwxr-x  2 jaebukbuk jaebukbuk  4096 Apr  8 13:10 ./
drwxr-x--- 12 jaebukbuk jaebukbuk  4096 Apr  8 13:10 ../
-rw-rw-r--  1 jaebukbuk jaebukbuk    62 Apr  8 12:56 Dockerfile
-rw-rw-r--  1 jaebukbuk jaebukbuk    28 Apr  8 12:50 index.js
-rw-rw-r--  1 jaebukbuk jaebukbuk 72362 Apr  8 13:10 testFile
```

- ê·¸ë‚˜ë§ˆ ì–‘ì„ ì¢€ í‚¤ì›Œì„œ ë‹¤ì‹œ build í•´ë³´ë©´

```bash
jaebukbuk@jaebukbukubuntu24:~/build-context$ docker build -t hello-from-node .
[+] Building 1.7s (9/9) FINISHED                                               => [internal] load build definition from Dockerfile                            => => transferring dockerfile: 99B                                             => [internal] load metadata for docker.io/library/node:22                      => [auth] library/node:pull token for registry-1.docker.io                     => [internal] load .dockerignore                                               => => transferring context: 2B                                                 => [1/3] FROM docker.io/library/node:22@sha256:89b86535844dc9a7a2540b1cd3b3b1b84315fbc89369dc6d8f09591ca939562e                          
=> [internal] load build context                                               => => transferring context: 72.48kB                                            => CACHED [2/3] WORKDIR /app                                                   => [3/3] COPY . .                                                              => exporting to image                                                          => => exporting layers                                                         => => writing image sha256:9d5629aa43d7c01806ea7297185713de9419b18cc44b6b9bfd00a327bb732939        => => naming to docker.io/library/hello-from-node               
```

- 72.48kb ì˜ íŒŒì¼ì„ transferring í•œê²ƒì„ ì•Œìˆ˜ ìˆë‹¤.