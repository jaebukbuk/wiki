---
날짜: 2025-04-10
Objective: .dockerIgnore 파일을 통해 도커 이미지 빌드시 context 에서 제외시킬 대상으르 지정한다.
Script: "[[Sript_51]]"
tags:
  - 🐲Project/개발활동/개인서버구축/Docker강의
---
OverVIew 

- .dockerignore 파일에 docker image build 시 제외할 파일을 명시할수 있다.
- docker run --rm 명령은 컨테이너 종료시 자동으로 docker rm 명령어이다.

Details 

# Context는 이미지만을 위한 공간이 아니다.

- Docker Image 를 생성 하기위한 context . 은 CI/CD 를 구현하기 위한 소스들이 있을수도 있고 등등 최종 이미지만을 위한 공간이 아니다.
  ==> Docker 이미지를 build 할때 뺴고 싶다.!
-  물론 이전에 배운 Copy 명령어를 통해 넣고 싶은거만 넣을수 있지만 번거롭다.

# .dockerignore
```bash
jaebukbuk@jaebukbukubuntu24:~/build-context$ cat .dockerignore
testIndex.js
**/*.test.js
```

- 특정 파일을 지정할수 있고
- `**모든 하위에서 .test.js 로 끝나는 모든 파일 로도 지정할수 있다.
# 이미지를 build 하고 컨테이너를 실행하여 쉘을 열자

- 실제 Docker build context 를 통해 만들어진 이미지 에는 해당 파일들이 제외 되었는지는 컨테이너를 실행하고 쉘에 들어가서 확인해야한다.

```bash
jaebukbuk@jaebukbukubuntu24:~/build-context$ docker images
REPOSITORY        TAG       IMAGE ID       CREATED          SIZE
hello-from-node   latest    45726455377d   25 seconds ago   1.12GB
<none>            <none>    9d5629aa43d7   2 days ago       1.12GB
<none>            <none>    2147e0d2a073   2 days ago       1.12GB
express-app       latest    75ad6404292d   9 days ago       1.13GB
jaebukbuk@jaebukbukubuntu24:~/build-context$ docker run --rm -it 45726455377d sh
# ls
Dockerfile  src  testFile
```

- --rm => 컨테이너를 종료하는 즉시 해당 컨테이너가 삭제되어 시스템에 남지 않고 공간을 계속 차지하지 않도록 할 수 있습니다. rm 명령어 자동이야~~
- 잘모르겠지만 sh 쉘 명령어 때문에 Dockerfile에서 정의한 Cmd 명령을 overwrite 했다고 하는데 .. 요건 잘모르겠음



